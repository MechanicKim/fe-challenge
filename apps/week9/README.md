# 9주차 챌린지 가이드: 다기능 모달 컴포넌트 (접근성 및 UX)

9주차 챌린지는 단순한 알림창을 넘어, 실제 서비스에서 완벽하게 작동하고 **접근성(Accessibility, A11y)**까지 고려된 **다기능 모달(Modal)** 컴포넌트를 개발하는 것입니다. 이 과제는 DOM 조작, 포커스 관리, 이벤트 처리 능력을 한 단계 끌어올립니다.

### 🚀 챌린지 개요: 목표와 요구사항

| 카테고리 | 상세 목표 |
| :--- | :--- |
| **핵심 기능** | 모달 열기/닫기 기능 외에, 외부 클릭 및 `ESC` 키로 모달을 닫을 수 있어야 합니다. |
| **주요 기술** | **Vanilla JavaScript 또는 프레임워크** (선택), CSS `z-index`, `aria` 속성, 이벤트 리스너. |
| **접근성(A11y)** | 모달이 열렸을 때 **포커스 트랩(Focus Trap)**이 작동해야 하며, 모달 뒤의 콘텐츠는 스크린 리더로 접근할 수 없어야 합니다. |
| **UX 개선** | 모달이 열렸을 때 본문 스크롤이 방지되어야 하며, 모달의 열림/닫힘에 부드러운 애니메이션이 적용되어야 합니다. |

---

### ⚙️ 필수 구현 단계

#### 1. 기본 UI 및 기능 구현

1.  **HTML 구조:** 모달 외부 배경(`Overlay`), 모달 컨테이너, 모달 헤더, 본문, 닫기 버튼으로 구조화합니다.
2.  **모달 표시 제어:** 모달을 열고 닫는 `open()` / `close()` 함수를 구현하고, 상태(State)에 따라 CSS `display` 또는 `visibility` 속성을 토글합니다.
3.  **애니메이션:** 모달이 나타나거나 사라질 때 **불투명도(Opacity)**를 활용한 부드러운 `fade-in/out` 애니메이션을 적용합니다.

#### 2. 사용자 입력 처리 및 UX

1.  **ESC 키 닫기:** 모달이 열린 상태에서 키보드의 `Escape` 키를 누르면 모달이 닫히도록 `keydown` 이벤트 리스너를 전역적으로 등록합니다.
2.  **외부 클릭 닫기:** 모달 컨테이너가 아닌 **오버레이 영역을 클릭**했을 때 모달이 닫히도록 `click` 이벤트 리스너를 오버레이에 등록합니다.
3.  **본문 스크롤 방지:** 모달이 열리는 순간, `<body>` 태그에 CSS `overflow: hidden` 속성을 적용하여 본문이 스크롤되는 것을 방지합니다. 모달이 닫히면 이 속성을 제거합니다.

#### 3. 접근성 (Accessibility) 구현 (가장 중요)

1.  **스크린 리더 숨김:** 모달이 열려 있을 때, 모달 외부의 모든 콘텐츠가 스크린 리더에 의해 무시되도록 `<main>` 콘텐츠 등 모달 외부 요소에 `aria-hidden="true"` 속성을 추가합니다.
2.  **포커스 트랩:**
    * 모달이 열리면 포커스는 **모달 내부의 첫 번째 포커스 가능한 요소** (예: 닫기 버튼)로 이동해야 합니다.
    * 모달이 열린 상태에서는 `Tab` 키를 눌러도 **모달 내부의 요소들 사이**에서만 포커스가 순환하고(Focus Trap), 모달 밖으로는 나가지 못하도록 구현해야 합니다.
    * 모달이 닫히면 포커스는 모달을 열기 위해 클릭했던 원래 요소로 되돌아가야 합니다.

---

### 🌟 심화 도전 과제 (Challenge Up)

실력을 더 높이고 싶다면 다음 항목에 도전해 보세요.

1.  **스택(Stack) 관리:** 여러 개의 모달이 동시에 열릴 수 있는 상황을 시뮬레이션하고, 가장 최근에 열린 모달만 `ESC` 키나 외부 클릭에 반응하도록 상태 관리 로직을 구현합니다.
2.  **Portal 패턴 적용:** 프레임워크를 사용한다면, 모달 컴포넌트의 실제 DOM 구조가 애플리케이션의 루트 DOM 외부에 렌더링되도록 **Portal** 기능을 사용하여 구현합니다.